====================================
å°å°¼é›…åŠ è¾¾å†°æŸœé…é€åœ°å›¾å±•ç¤ºç³»ç»Ÿ
Netlify å‰ç«¯éƒ¨ç½²é…ç½®æŒ‡å— v3.0
====================================

ğŸ¯ ç›®æ ‡: å°†Reactå‰ç«¯åº”ç”¨éƒ¨ç½²åˆ°Netlify

ğŸ“‹ éƒ¨ç½²æ­¥éª¤:

ã€ç¬¬ä¸€æ­¥: ç™»å½•Netlifyã€‘
1. è®¿é—®: https://www.netlify.com/
2. ä½¿ç”¨GitHubè´¦å·ç™»å½•
3. æˆæƒNetlifyè®¿é—®ä½ çš„GitHubä»“åº“

ã€ç¬¬äºŒæ­¥: åˆ›å»ºæ–°ç«™ç‚¹ã€‘
1. ç‚¹å‡»"Add new site" â†’ "Import an existing project"
2. é€‰æ‹©"GitHub"
3. é€‰æ‹©ä»“åº“: "AlimanIrawan/jakarta-freezer-delivery-map"
4. é…ç½®æ„å»ºè®¾ç½®:
   - Branch to deploy: main
   - Base directory: (ç•™ç©ºï¼Œä½¿ç”¨æ ¹ç›®å½•)
   - Build command: npm run build
   - Publish directory: build

ã€ç¬¬ä¸‰æ­¥: é…ç½®ç¯å¢ƒå˜é‡ã€‘
åœ¨"Site settings" â†’ "Environment variables"æ·»åŠ :

REACT_APP_API_URL=https://ä½ çš„Renderåç«¯URL
REACT_APP_SYNC_ENDPOINT=https://ä½ çš„Renderåç«¯URL/sync
REACT_APP_MAP_CENTER_LAT=-6.2
REACT_APP_MAP_CENTER_LNG=106.8
REACT_APP_MAP_ZOOM=10

ã€ç¬¬å››æ­¥: é…ç½®é‡å®šå‘è§„åˆ™ã€‘
åˆ›å»º public/_redirects æ–‡ä»¶:

# SPAè·¯ç”±é‡å®šå‘
/*    /index.html   200

# APIä»£ç†ï¼ˆå¯é€‰ï¼Œå¦‚æœéœ€è¦ï¼‰
/api/*  https://ä½ çš„Renderåç«¯URL/api/:splat  200

ã€ç¬¬äº”æ­¥: éƒ¨ç½²ç«™ç‚¹ã€‘
1. ç‚¹å‡»"Deploy site"
2. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆçº¦3-5åˆ†é’Ÿï¼‰
3. è®°å½•åˆ†é…çš„åŸŸå: https://éšæœºåç§°.netlify.app
4. å¯ä»¥åœ¨"Site settings" â†’ "General"ä¸­è‡ªå®šä¹‰åŸŸå

ã€ç¬¬å…­æ­¥: æ›´æ–°åç«¯CORSé…ç½®ã€‘
1. å›åˆ°Renderåç«¯æœåŠ¡
2. æ›´æ–°ç¯å¢ƒå˜é‡ CORS_ORIGIN:
   CORS_ORIGIN=https://ä½ çš„NetlifyåŸŸå.netlify.app
3. é‡æ–°éƒ¨ç½²åç«¯æœåŠ¡

ã€ç¬¬ä¸ƒæ­¥: éªŒè¯éƒ¨ç½²ã€‘
è®¿é—®ä½ çš„NetlifyåŸŸåéªŒè¯:
- åœ°å›¾æ­£å¸¸åŠ è½½
- æ•°æ®å±•ç¤ºæ­£å¸¸
- æ‰‹åŠ¨åŒæ­¥åŠŸèƒ½æ­£å¸¸
- ç»Ÿè®¡é¢æ¿æ˜¾ç¤ºæ­£ç¡®

ğŸ”§ Netlifyé…ç½®æ–‡ä»¶:
å¯é€‰åˆ›å»º netlify.toml:

[build]
  command = "npm run build"
  publish = "build"

[build.environment]
  NODE_VERSION = "18"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[[headers]]
  for = "/static/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

ğŸš€ è‡ªåŠ¨éƒ¨ç½²:
- æ¯æ¬¡æ¨é€åˆ°mainåˆ†æ”¯è‡ªåŠ¨è§¦å‘æ„å»º
- æ„å»ºå¤±è´¥ä¼šæ”¶åˆ°é‚®ä»¶é€šçŸ¥
- å¯ä»¥å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬

ğŸ’° è´¹ç”¨è¯´æ˜:
- å…è´¹è®¡åˆ’: 100GBå¸¦å®½/æœˆï¼Œ300åˆ†é’Ÿæ„å»ºæ—¶é—´
- ä»˜è´¹è®¡åˆ’: $19/æœˆèµ·ï¼Œæ›´å¤šåŠŸèƒ½å’Œå¸¦å®½

ğŸ”§ å‰ç«¯é…ç½®æ›´æ–°:
ç¡®ä¿å‰ç«¯ä»£ç ä¸­çš„APIç«¯ç‚¹æ­£ç¡®:

// src/App.tsx ä¸­çš„ handleManualUpdate å‡½æ•°
const response = await fetch(`${process.env.REACT_APP_API_URL}/sync`, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
});

ğŸš¨ æ³¨æ„äº‹é¡¹:
- ç¡®ä¿ç¯å¢ƒå˜é‡ä»¥REACT_APP_å¼€å¤´
- æ„å»ºåçš„ç¯å¢ƒå˜é‡ä¼šè¢«åµŒå…¥åˆ°é™æ€æ–‡ä»¶ä¸­
- æ•æ„Ÿä¿¡æ¯ä¸è¦æ”¾åœ¨å‰ç«¯ç¯å¢ƒå˜é‡ä¸­
- ç¡®ä¿API URLä½¿ç”¨HTTPS

ğŸ“Š ç›‘æ§å’Œåˆ†æ:
- Netlify Analyticså¯ä»¥æŸ¥çœ‹è®¿é—®ç»Ÿè®¡
- Deploy logsæ˜¾ç¤ºæ„å»ºè¯¦æƒ…
- Function logsï¼ˆå¦‚æœä½¿ç”¨ï¼‰
- å¯ä»¥é›†æˆGoogle Analytics

ğŸ”— è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰:
1. åœ¨"Site settings" â†’ "Domain management"
2. æ·»åŠ è‡ªå®šä¹‰åŸŸå
3. é…ç½®DNSè®°å½•æŒ‡å‘Netlify
4. å¯ç”¨HTTPSï¼ˆè‡ªåŠ¨ï¼‰

å®Œæˆåç³»ç»Ÿå°±å…¨éƒ¨éƒ¨ç½²å®Œæˆäº†ï¼ 